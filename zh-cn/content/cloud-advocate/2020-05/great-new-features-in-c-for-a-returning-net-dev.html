<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C# ä¸­å¯¹é‡è¿” .NET çš„å¼€å‘äººå‘˜æ¥è¯´éå¸¸æ£’çš„æ–°ç‰¹æ€§ | Azure ä¸­æ–‡ç²¾é€‰</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="/azureselected/favicon.ico">
    <meta name="description" content="æè¿°äº† C# ä¸­3ä¸ªæ–°ç‰¹æ€§">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/azureselected/assets/css/0.styles.fe1e9048.css" as="style"><link rel="preload" href="/azureselected/assets/js/app.8a0b7483.js" as="script"><link rel="preload" href="/azureselected/assets/js/2.8d021b4d.js" as="script"><link rel="preload" href="/azureselected/assets/js/54.41189e23.js" as="script"><link rel="preload" href="/azureselected/assets/js/3.32c85e2e.js" as="script"><link rel="preload" href="/azureselected/assets/js/5.554b9b17.js" as="script"><link rel="prefetch" href="/azureselected/assets/js/10.fa73f6fc.js"><link rel="prefetch" href="/azureselected/assets/js/11.e07babbc.js"><link rel="prefetch" href="/azureselected/assets/js/12.12214fd4.js"><link rel="prefetch" href="/azureselected/assets/js/13.b7275e3f.js"><link rel="prefetch" href="/azureselected/assets/js/14.d6b8a728.js"><link rel="prefetch" href="/azureselected/assets/js/15.31a19f47.js"><link rel="prefetch" href="/azureselected/assets/js/16.c3ccb867.js"><link rel="prefetch" href="/azureselected/assets/js/17.7d290d04.js"><link rel="prefetch" href="/azureselected/assets/js/18.4cc5d13c.js"><link rel="prefetch" href="/azureselected/assets/js/19.01296b5f.js"><link rel="prefetch" href="/azureselected/assets/js/20.84db9ad2.js"><link rel="prefetch" href="/azureselected/assets/js/21.6a1d22b6.js"><link rel="prefetch" href="/azureselected/assets/js/22.b38195a7.js"><link rel="prefetch" href="/azureselected/assets/js/23.53dea98b.js"><link rel="prefetch" href="/azureselected/assets/js/24.67816702.js"><link rel="prefetch" href="/azureselected/assets/js/25.8e0307d1.js"><link rel="prefetch" href="/azureselected/assets/js/26.fb128a8f.js"><link rel="prefetch" href="/azureselected/assets/js/27.e8b0b7a9.js"><link rel="prefetch" href="/azureselected/assets/js/28.e625e9de.js"><link rel="prefetch" href="/azureselected/assets/js/29.aeb087ba.js"><link rel="prefetch" href="/azureselected/assets/js/30.8ef68534.js"><link rel="prefetch" href="/azureselected/assets/js/31.6b43ffde.js"><link rel="prefetch" href="/azureselected/assets/js/32.b2f60498.js"><link rel="prefetch" href="/azureselected/assets/js/33.ef0db925.js"><link rel="prefetch" href="/azureselected/assets/js/34.c990c7e7.js"><link rel="prefetch" href="/azureselected/assets/js/35.177548dd.js"><link rel="prefetch" href="/azureselected/assets/js/36.be924c7e.js"><link rel="prefetch" href="/azureselected/assets/js/37.c4a329a3.js"><link rel="prefetch" href="/azureselected/assets/js/38.88502f70.js"><link rel="prefetch" href="/azureselected/assets/js/39.b70a599f.js"><link rel="prefetch" href="/azureselected/assets/js/4.f7cbda98.js"><link rel="prefetch" href="/azureselected/assets/js/40.af1f7c88.js"><link rel="prefetch" href="/azureselected/assets/js/41.09f3637f.js"><link rel="prefetch" href="/azureselected/assets/js/42.91268a34.js"><link rel="prefetch" href="/azureselected/assets/js/43.8bc4e597.js"><link rel="prefetch" href="/azureselected/assets/js/44.e75fe39d.js"><link rel="prefetch" href="/azureselected/assets/js/45.36f7e780.js"><link rel="prefetch" href="/azureselected/assets/js/46.d83d96f0.js"><link rel="prefetch" href="/azureselected/assets/js/47.b54cc2ca.js"><link rel="prefetch" href="/azureselected/assets/js/48.9b7655b1.js"><link rel="prefetch" href="/azureselected/assets/js/49.dc3e7585.js"><link rel="prefetch" href="/azureselected/assets/js/50.44491727.js"><link rel="prefetch" href="/azureselected/assets/js/51.b3cc832a.js"><link rel="prefetch" href="/azureselected/assets/js/52.4b3f7433.js"><link rel="prefetch" href="/azureselected/assets/js/53.d0efb5a8.js"><link rel="prefetch" href="/azureselected/assets/js/55.0604b61d.js"><link rel="prefetch" href="/azureselected/assets/js/56.d1bb56be.js"><link rel="prefetch" href="/azureselected/assets/js/57.2ae826e1.js"><link rel="prefetch" href="/azureselected/assets/js/58.fcca3b58.js"><link rel="prefetch" href="/azureselected/assets/js/59.3da7d882.js"><link rel="prefetch" href="/azureselected/assets/js/6.ef320c88.js"><link rel="prefetch" href="/azureselected/assets/js/60.3f06229c.js"><link rel="prefetch" href="/azureselected/assets/js/61.6e57367f.js"><link rel="prefetch" href="/azureselected/assets/js/62.3b222c6c.js"><link rel="prefetch" href="/azureselected/assets/js/63.8a7f0932.js"><link rel="prefetch" href="/azureselected/assets/js/7.51b986da.js"><link rel="prefetch" href="/azureselected/assets/js/8.a9358b51.js"><link rel="prefetch" href="/azureselected/assets/js/9.b8eed478.js">
    <link rel="stylesheet" href="/azureselected/assets/css/0.styles.fe1e9048.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/azureselected/zh-cn/" class="home-link router-link-active"><img src="/azureselected/img/logo_azure.svg" alt="Azure ä¸­æ–‡ç²¾é€‰" class="logo"> <span class="site-name can-hide">Azure ä¸­æ–‡ç²¾é€‰</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/azureselected/zh-cn/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/azureselected/zh-cn/content/" class="nav-link router-link-active">
  å†…å®¹åˆ—è¡¨
</a></div><div class="nav-item"><a href="/azureselected/zh-cn/tags.html" class="nav-link">
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="https://wj.qq.com/s2/5227985/7213/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‚åŠ ç¿»è¯‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">è¯­è¨€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">è¯­è¨€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/azureselected/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ç®€ä½“ä¸­æ–‡
</a></li><li class="dropdown-item"><!----> <a href="/azureselected/zh-tw/" class="nav-link">
  ç¹é«”ä¸­æ–‡
</a></li></ul></div></div> <a href="https://github.com/shinyzhu/azureselected" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/azureselected/zh-cn/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/azureselected/zh-cn/content/" class="nav-link router-link-active">
  å†…å®¹åˆ—è¡¨
</a></div><div class="nav-item"><a href="/azureselected/zh-cn/tags.html" class="nav-link">
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="https://wj.qq.com/s2/5227985/7213/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‚åŠ ç¿»è¯‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">è¯­è¨€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">è¯­è¨€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/azureselected/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ç®€ä½“ä¸­æ–‡
</a></li><li class="dropdown-item"><!----> <a href="/azureselected/zh-tw/" class="nav-link">
  ç¹é«”ä¸­æ–‡
</a></li></ul></div></div> <a href="https://github.com/shinyzhu/azureselected" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>C# ä¸­å¯¹é‡è¿” .NET çš„å¼€å‘äººå‘˜æ¥è¯´éå¸¸æ£’çš„æ–°ç‰¹æ€§</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#å‚è€ƒèµ„æ–™" class="sidebar-link">å‚è€ƒèµ„æ–™</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#_1-deconstruction-è§£æ„" class="sidebar-link">-1- Deconstruction - è§£æ„</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#tuple-å…ƒç»„" class="sidebar-link">Tuple - å…ƒç»„</a></li><li class="sidebar-sub-header"><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#classes-ç±»" class="sidebar-link">Classes - ç±»</a></li></ul></li><li><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#_2-pattern-matching-æ¨¡å¼åŒ¹é…" class="sidebar-link">-2- Pattern matching - æ¨¡å¼åŒ¹é…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#positional-pattern-ä½ç½®æ¨¡å¼" class="sidebar-link">Positional pattern - ä½ç½®æ¨¡å¼</a></li><li class="sidebar-sub-header"><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#property-pattern-å±æ€§æ¨¡å¼" class="sidebar-link">Property pattern - å±æ€§æ¨¡å¼</a></li></ul></li><li><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#_3-records-è®°å½•" class="sidebar-link">-3- Records - è®°å½•</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/azureselected/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.html#å°ç»“" class="sidebar-link">å°ç»“</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="c-ä¸­å¯¹é‡è¿”-net-çš„å¼€å‘äººå‘˜æ¥è¯´éå¸¸æ£’çš„æ–°ç‰¹æ€§"><a href="#c-ä¸­å¯¹é‡è¿”-net-çš„å¼€å‘äººå‘˜æ¥è¯´éå¸¸æ£’çš„æ–°ç‰¹æ€§" class="header-anchor">#</a> C# ä¸­å¯¹é‡è¿” .NET çš„å¼€å‘äººå‘˜æ¥è¯´éå¸¸æ£’çš„æ–°ç‰¹æ€§</h1> <div class="content-meta"><hr> <p>åŸæ–‡ï¼š <a href="https://softchris.github.io/pages/dotnet-csharp-news.html">https://softchris.github.io/pages/dotnet-csharp-news.html</a></p> <p>ä½œè€…ï¼š Chris Noring | 3/4/2020</p> <!----> <div class="tags-head"><span><a href="/azureselected/zh-cn/tags.html#C#">
      C#
    </a><a href="/azureselected/zh-cn/tags.html#.NET">
      .NET
    </a></span></div> <hr></div> <p>è¯·è®¢é˜…æˆ‘çš„<a href="https://twitter.com/chris_noring" target="_blank" rel="noopener noreferrer">Twitter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œéå¸¸ä¹æ„æ¥å—æ‚¨çš„å»ºè®®æˆ–æ”¹è¿› /Chris</p> <blockquote><p>æˆ‘ç¦»å¼€ .NET å¼€å‘å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ã€‚å®é™…ä¸Šæˆ‘ä¸€ç›´åœ¨ä»äº‹å…¨æ ˆ JavaScript å¼€å‘ï¼Œå½“é‡æ–°å…³æ³¨ .NET é¢†åŸŸåï¼Œæˆ‘æ³¨æ„åˆ° C# è¯­è¨€å·²ç»æ·»åŠ äº†ä¸€äº›æƒŠäººçš„åŠŸèƒ½ï¼Œä»¥åŠä¸€äº›æˆ‘å¯ä»¥ä» JavaScript å’Œå‡½æ•°å¼è¯­è¨€ä¸­è¯†åˆ«å‡ºæ¥çš„ç‰¹æ€§ã€‚è¿™è®©æˆ‘éå¸¸é«˜å…´ï¼Œå› ä¸ºè¿™æ„å‘³ç€ C# èƒ½å¤Ÿä»ä¸åŒçš„èŒƒå¼åŠæœ€é‡è¦çš„æ¼”åŒ–ä¸­é€‰æ‹©æœ€ä¼˜ç§€çš„éƒ¨åˆ†ï¼Œå˜å¾—è¶Šæ¥è¶Šå¥½ã€‚åœ¨2000å¹´å¹´åˆçš„æ—¶å€™ï¼Œè°ä¼šæƒ³åˆ° .NET ç°åœ¨å¯ä»¥è¿è¡Œåœ¨æ‰€æœ‰å¹³å°ä¸Šï¼ŸğŸ˜ƒ</p> <p>é‚£ä¹ˆï¼Œè¿™äº›åŠŸèƒ½æœ‰å“ªäº›å‘¢ï¼Ÿ</p></blockquote> <h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <ul><li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/deconstruct?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">è§£æ„, å…ƒç»„å’Œå¯¹è±¡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¯¥æ–‡æ¡£æ¶µç›–äº†å¦‚ä½•å¯¹å…ƒç»„å’Œå¯¹è±¡è¿›è¡Œè§£æ„ã€‚å®ƒåŒ…å«äº†æ‚¨éœ€è¦äº†è§£çš„æ‰€æœ‰å†…å®¹</li> <li><a href="https://docs.microsoft.com/en-us/archive/msdn-magazine/2019/may/csharp-8-0-pattern-matching-in-csharp-8-0?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">C# 8.0 ä¸­çš„æ¨¡å¼åŒ¹é…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> C# 8.0 é™„å¸¦äº†å¯¹ C# 7.0 ä¸­æ·»åŠ çš„æ¨¡å¼åŒ¹é…çš„ä¸€äº›æ›´æ–°ã€‚</li> <li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/pattern-matching?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">æ¨¡å¼åŒ¹é…æ¦‚è¿°<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¯¥æ–‡æ¡£æ¶µç›–äº†ç°æœ‰çš„ä¸åŒç±»å‹çš„æ¨¡å¼åŒ¹é…ã€‚</li> <li><a href="https://blog.cdemi.io/whats-coming-in-c-8-0-records/" target="_blank" rel="noopener noreferrer">Records - è®°å½•åˆæ¢<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="_1-deconstruction-è§£æ„"><a href="#_1-deconstruction-è§£æ„" class="header-anchor">#</a> -1- Deconstruction - è§£æ„</h2> <p>è¿™æ˜¯æˆ‘åœ¨ JavaScript ä¸­å¾ˆå–œæ¬¢çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå½“ç„¶åœ¨ JavaScript ä¸­å®ƒè¢«ç§°ä¸º destructuringã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿè¿™ä¸ªæƒ³æ³•æ¥è‡ªäºå½“ä½ è¦å¼•ç”¨ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªåˆ—è¡¨ä¸­çš„é¡¹çš„ä¸€äº›å±æ€§ï¼Œä½†åˆä¸æƒ³è¦å…¨éƒ¨çš„å±æ€§ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ª JavaScript çš„ä¾‹å­ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// JavaScript example</span>

<span class="token keyword">function</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'chris'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">company</span><span class="token operator">:</span> <span class="token string">'Microsoft'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Cloud Advocate'</span> 
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// without destructuring</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>company<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// with destructuring</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> company <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>company<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œå½“æ²¡æœ‰ä½¿ç”¨ destructuring çš„æ—¶å€™ï¼Œå³ä½¿æˆ‘åªæƒ³è·å–ä¸€ä¸ªæˆå‘˜ï¼Œä¹Ÿå¿…é¡»é”®å…¥<code>person</code>ã€‚å¾ˆå¤šå¤šä½™çš„å­—ç¬¦ ğŸ˜•</p> <blockquote><p>æ€æ ·åœ¨ C# ä¸­ä½¿ç”¨å‘¢ï¼Ÿ</p></blockquote> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> pname<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">var</span></span> pcompany<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">CreatePerson</span><span class="token punctuation">(</span><span class="token string">&quot;chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;microsoft&quot;</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>å¥½å§ï¼Œçœ‹èµ·æ¥ç±»ä¼¼ã€‚<code>CreatePerson()</code> è¿”å›çš„åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p></blockquote> <p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œä½†ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå…ƒç»„ã€‚</p> <blockquote><p>è¿™æ ·å°±è¡Œäº†å—ï¼Ÿ</p></blockquote> <p>è¿™å–å†³äºä½ æ­£åœ¨å¤„ç†ä»€ä¹ˆç»“æ„ã€‚å®ƒç›®å‰é€‚ç”¨äºå…ƒç»„å’Œç±»ï¼Œå°½ç®¡æ”¯æŒç±»çš„è¯ä½ éœ€è¦åšä¸€äº›é¢å¤–çš„å·¥ä½œå°†å®ƒè¿è¡Œèµ·æ¥ã€‚</p> <h3 id="tuple-å…ƒç»„"><a href="#tuple-å…ƒç»„" class="header-anchor">#</a> Tuple - å…ƒç»„</h3> <p>è®©æˆ‘ä»¬é¦–å…ˆé€šè¿‡å…ƒç»„æ¥äº†è§£å®ƒçš„æ¥é¾™å»è„‰ã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯ç”Ÿæˆå…ƒç»„çš„æ–¹æ³•ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">)</span></span> <span class="token function">GetPerson</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> company<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> company<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è¿›è¡Œæ­¤æ“ä½œï¼š</p> <ol><li>ä»å…ƒç»„è®¿é—®æ‰€æœ‰å˜é‡</li> <li>ä»…è®¿é—®æˆ‘ä»¬æ‰€éœ€è¦çš„å˜é‡ä½†æ˜¯ä½¿ç”¨å¼ƒå…ƒç¬¦å· <code>_</code></li></ol> <blockquote><p>è¯‘è€…æ³¨ï¼šä» C# 7.0 å¼€å§‹ï¼ŒC# æ”¯æŒå¼ƒå…ƒï¼Œç”¨ <code>_</code> è¡¨ç¤ºã€‚å¼ƒå…ƒç›¸å½“äºæœªèµ‹å€¼çš„å˜é‡ï¼Œæ— éœ€ä¸ºè¯¥å˜é‡åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥å¯ä»¥å‡å°‘å†…å­˜åˆ†é…ã€‚æœ¬è´¨ä¸Šæ¥è¯´è¿™æ˜¯ä¸€ç§äººä¸ºå–æ¶ˆä½¿ç”¨çš„ä¸´æ—¶è™šæ‹Ÿå˜é‡ã€‚å‚è€ƒ<a href="https://docs.microsoft.com/zh-cn/dotnet/csharp/discards" target="_blank" rel="noopener noreferrer">å¼ƒå…ƒ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>è®©æˆ‘ä»¬æ¼”ç¤ºç¬¬ä¸€ç§æƒ…å†µï¼š</p> <p><strong>æ‰€æœ‰å˜é‡</strong></p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">var</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> company<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">GetPerson</span><span class="token punctuation">(</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// name = &quot;Chris&quot;</span>
<span class="token comment">// company = &quot;Microsoft&quot;</span>
</code></pre></div><p><strong>ä½¿ç”¨å¼ƒå…ƒ</strong></p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">var</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">GetPerson</span><span class="token punctuation">(</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// name = &quot;Chris&quot;</span>
</code></pre></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>_</code> è¡¨ç¤ºæˆ‘ä»¬ä¸å…³å¿ƒå…ƒç»„ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p> <blockquote><p>é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æœ‰3ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œä»–ä»¬æ˜¯å¦éƒ½è¢«å‚¨å­˜åœ¨<code>_</code>é‡Œï¼Ÿ</p></blockquote> <p>å¹¶ä¸æ˜¯ã€‚æ‚¨éœ€è¦å£°æ˜æ¯ä¸ªå‚æ•°ï¼Œä½†æˆ‘ä»¬ä¸å…³å¿ƒä½ç½®ï¼Œå› æ­¤å¯ä»¥åƒè¿™æ ·è¾“å…¥ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">var</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> _<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">GetPerson</span><span class="token punctuation">(</span><span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Microsoft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="classes-ç±»"><a href="#classes-ç±»" class="header-anchor">#</a> Classes - ç±»</h3> <p>åƒå…ƒç»„ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ç±»è¿›è¡Œè§£æ„æ¥è®¿é—®ç‰¹å®šçš„å­—æ®µã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ª <code>Deconstruct()</code> æ–¹æ³•æ·»åŠ åˆ°ç±»ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Company <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Country <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Deconstruct</span><span class="token punctuation">(</span><span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> company<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        name <span class="token operator">=</span> Name<span class="token punctuation">;</span>
        company <span class="token operator">=</span> Company<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Deconstruct</span><span class="token punctuation">(</span><span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> company<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> country<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        name <span class="token operator">=</span> Name<span class="token punctuation">;</span>
        company <span class="token operator">=</span> Company<span class="token punctuation">;</span>
        country <span class="token operator">=</span> Country<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç”¨å¦‚ä¸‹æ–¹å¼è®¿é—®</span>
<span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">var</span></span> company<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¯¹äºæˆ‘ä»¬ä¸å…³å¿ƒçš„å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨åŒæ ·çš„è§„åˆ™ï¼Œå³ä½¿ç”¨å¼ƒå…ƒ <code>_</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">var</span></span> company<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸¢å¼ƒäº† <code>country</code>ã€‚</p> <p><strong>é‡è½½è§£æ„æ–¹æ³•</strong></p> <p>æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°åœ¨ <code>Person</code> ç±»ä¸­æœ‰ä¸¤ä¸ª <code>Deconstruct()</code> æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†é‡è½½ï¼Œæ‰€ä»¥å¯ä»¥æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">var</span></span> company<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ç¬¬äºŒä¸ªç¤ºä¾‹ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">var</span></span> company<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®é™…ä¸Šç§»é™¤äº†å¼ƒå…ƒ <code>_</code>ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„ <code>Deconstruct()</code> æ–¹æ³•ã€‚</p> <blockquote><p>ä½†æ˜¯ï¼Œæˆ‘ä»€ä¹ˆæ—¶å€™éœ€è¦å¼ƒå…ƒ <code>_</code> å‘¢ï¼Ÿ</p></blockquote> <p>åœ¨ä»¥ä¸‹çš„ä¾‹å­ä¸­ï¼Œä½ ä»…éœ€è¦å®ƒçš„ä¸€ä¸ªå‚æ•°ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> name<span class="token punctuation">,</span> _ <span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span><span class="token punctuation">,</span> Company <span class="token operator">=</span><span class="token string">&quot;Microsoft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬åœ¨ä½¿ç”¨å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„ <code>Deconstruct()</code> æ–¹æ³•ï¼Œä½†æ˜¯ä¸¢å¼ƒäº†æœ€åä¸€ä¸ªå‚æ•°ã€‚</p> <blockquote><p>é‚£ä¹ˆï¼Œæˆ‘ä¸ºä»€ä¹ˆä¸ç›´æ¥è¾“å…¥ <code>( var name )</code> å‘¢ï¼Ÿ</p></blockquote> <p>æˆ‘åªèƒ½å‘Šè¯‰ä½ å®ƒå°±æ˜¯è¿™æ ·å®ç°çš„ã€‚åªè¦è®°ä½ï¼Œå¦‚æœä½¿ç”¨é‡è½½ï¼Œéœ€è¦2ä¸ªæˆ–æ›´å¤šå‚æ•°æ¥ä½¿ç”¨å®ƒã€‚</p> <p>è¦äº†è§£æ›´å¤šå…³äºè§£æ„çš„å†…å®¹ï¼Œè¯·é˜…è¯»ä»¥ä¸‹æ–‡æ¡£ï¼š</p> <blockquote><p>https://docs.microsoft.com/en-us/dotnet/csharp/deconstruct</p></blockquote> <h2 id="_2-pattern-matching-æ¨¡å¼åŒ¹é…"><a href="#_2-pattern-matching-æ¨¡å¼åŒ¹é…" class="header-anchor">#</a> -2- Pattern matching - æ¨¡å¼åŒ¹é…</h2> <p>æˆ‘åœ¨åƒ F# çš„å‡½æ•°å¼è¯­è¨€ä¸­è§è¿‡æ¨¡å¼åŒ¹é…ã€‚å®ƒçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœä½ é—®æˆ‘çš„è¯ï¼Œæˆ‘ä¼šè¯´è¿™æ˜¯ä¸ºäº†å‡å°‘è¾“å…¥å¹¶åœ¨çœŸæ­£è¦è¿›è¡Œæ¯”è¾ƒæ—¶æ›´ç²¾ç¡®ã€‚åœ¨ä½¿ç”¨ Switch çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•ä½¿è¿™äº›æ›´å®¹æ˜“é˜…è¯»å’Œæ›´æœ‰é’ˆå¯¹æ€§ã€‚</p> <blockquote><p>è¯·å±•ç¤º</p></blockquote> <p>å¥½ã€‚å½“æˆ‘è¿‡å»ä½¿ç”¨ C# æ—¶ï¼Œswitch æ”¯æŒå­—ç¬¦ä¸²ã€æ•´æ•°å’Œæšä¸¾ï¼Œä»…æ­¤è€Œå·²ã€‚å½“ä½¿ç”¨å¯¹è±¡æ—¶ switch å¹¶ä¸åˆé€‚ï¼Œæˆ‘éœ€è¦ä½¿ç”¨ ifã€ else-if æ¥è½¬æ¢å¯¹è±¡ã€‚è®©æˆ‘ä»¬å…ˆå±•ç¤ºä¸€äº›ä»£ç ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code> <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Character</span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">string</span></span> _name<span class="token punctuation">;</span>
      <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name 
      <span class="token punctuation">{</span> 
        <span class="token keyword">get</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> _name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">public</span> <span class="token function">Character</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          _name <span class="token operator">=</span> name<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hero</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Character</span></span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">public</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;The Good&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Healing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
      <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">&quot;Performs healing&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Villain</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Character</span></span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">public</span> <span class="token function">Villain</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;The Evil &quot;</span><span class="token operator">+</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

      <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Lightning</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">&quot;Performs Force lightning&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨å‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹ä»£ç ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> hero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Hero</span><span class="token punctuation">(</span><span class="token string">&quot;Luke&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> villain <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Villain</span><span class="token punctuation">(</span><span class="token string">&quot;Darth Vader&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Character</span> character <span class="token operator">=</span> hero<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> ability <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åŠ å…¥ä¸€äº›æˆ‘æ›¾ç»åœ¨ C# ä¸­ç”¨è¿‡çš„ switch é€»è¾‘ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">if</span><span class="token punctuation">(</span>character <span class="token keyword">is</span> <span class="token class-name">Hero</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token class-name"><span class="token keyword">var</span></span> h <span class="token operator">=</span> <span class="token punctuation">(</span>Hero<span class="token punctuation">)</span> character<span class="token punctuation">;</span>
  ability <span class="token operator">=</span> h<span class="token punctuation">.</span><span class="token function">Healing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token class-name"><span class="token keyword">var</span></span> v <span class="token operator">=</span> <span class="token punctuation">(</span>Villain<span class="token punctuation">)</span> character<span class="token punctuation">;</span>
  ability <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">Lightning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬å¯¹è¿™ç§ç”¨æ³•æ»¡æ„å—ï¼Ÿå…¶å®å¹¶ä¸ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œä» C# 7 èµ·ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">switch</span><span class="token punctuation">(</span>character<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token class-name">Hero</span> hero1<span class="token punctuation">:</span>
        ability <span class="token operator">=</span> hero1<span class="token punctuation">.</span><span class="token function">Healing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token class-name">Villain</span> villain1<span class="token punctuation">:</span>
        ability <span class="token operator">=</span> villain1<span class="token punctuation">.</span><span class="token function">Lightning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®æ¡ä»¶åˆ›å»ºäº† <code>hero1</code> æˆ– <code>villain1</code> å¯¹è±¡ã€‚çœ‹èµ·æ¥å°‘è¾“å…¥äº†ä¸€äº›ä»£ç ã€‚</p> <p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨ C# 8.0 ä¸­æ€ä¹ˆåšï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code>ability <span class="token operator">=</span> character <span class="token keyword">switch</span> <span class="token punctuation">{</span>
  <span class="token return-type class-name">Hero</span> hero2 <span class="token operator">=&gt;</span> hero2<span class="token punctuation">.</span><span class="token function">Healing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token return-type class-name">Villain</span> villain2 <span class="token operator">=&gt;</span> villain2<span class="token punctuation">.</span><span class="token function">Lightning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  _ <span class="token operator">=&gt;</span> <span class="token string">&quot;Unknown&quot;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>è¿™çœ‹èµ·æ¥çœŸçš„ä¸é”™ï¼Œéå¸¸ç´§å‡‘ ğŸ˜ƒ</p></blockquote> <p>å¯¹å§ï¼Ÿ</p> <h3 id="positional-pattern-ä½ç½®æ¨¡å¼"><a href="#positional-pattern-ä½ç½®æ¨¡å¼" class="header-anchor">#</a> Positional pattern - ä½ç½®æ¨¡å¼</h3> <p>C# 8 ç¡®å®ä»¤äººæƒŠå¹ï¼Œæˆ–è€…è‡³å°‘å¯¹äºæˆ‘æ¥è¯´ ğŸ˜ƒ é‚£ä¹ˆè¿˜æœ‰å…¶ä»–çš„å—ï¼Ÿæˆ‘ä»¬æŠŠå®ƒå«åšä½ç½®æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼å¯ä»¥è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡ï¼Œæ ¹æ®å®ƒå¯¹å“ªä¸ªå±æ€§è®¾ç½®çš„ç‰¹å®šçš„å€¼è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p> <p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Invoice ç±»ã€‚æ ¹æ®å®ƒçš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯èƒ½è¦ä»¥ä¸åŒçš„æ–¹å¼å¤„ç†å®ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨ç»™å®šçš„æ¨¡å¼åŒ¹é…ä¸­è¡¨ç¤ºå‘¢ï¼Ÿ</p> <p>æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œå…ˆè¯´ä¸€ä¸‹æˆ‘ä»¬å°†ä½¿ç”¨ <em>Destruction</em> åšåˆ°è¿™ä¸€ç‚¹ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æ˜¯ä½ å¯èƒ½æ„Ÿå…´è¶£çš„ä¸œè¥¿ã€‚å‡è®¾æˆ‘ä»¬åœ¨ä¸€ä¸ª <code>Invoice</code> ç±»ä¸­æœ‰ <code>BossSigned</code> å’Œ <code>SkipLevelBossSigned</code> å±æ€§ã€‚æˆ‘ä»¬åˆ¶å®šäº†ä¸€æ¡ä¸šåŠ¡è§„åˆ™ï¼Œå¦‚æœè€æ¿å’Œæ›´ä¸Šçº§çš„è€æ¿å·²ç»ç­¾ç½²å‘ç¥¨ï¼Œåˆ™å¯ä»¥ç»§ç»­å¤„ç†ã€‚</p> <ul><li><code>BossSigned</code>, å€¼ä¸º <code>null</code> æˆ–ç­¾ç½²çš„æ—¥æœŸ</li> <li><code>SkipLevelBossSigned</code>, å€¼ä¸º <code>null</code> æˆ–ç­¾ç½²çš„æ—¥æœŸ</li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> invoice <span class="token keyword">switch</span> 
<span class="token punctuation">{</span>
  Invoice <span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Boss need to sign&quot;</span><span class="token punctuation">,</span>
  Invoice <span class="token punctuation">(</span>_ <span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Skip level boss need to sign&quot;</span><span class="token punctuation">,</span>
  _ <span class="token operator">=&gt;</span> <span class="token string">&quot;All good, process&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="property-pattern-å±æ€§æ¨¡å¼"><a href="#property-pattern-å±æ€§æ¨¡å¼" class="header-anchor">#</a> Property pattern - å±æ€§æ¨¡å¼</h3> <p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¸º <code>Invoice</code> çš„ç±»å‹è¿›è¡Œäº†åŒ¹é…ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ç”¨å…³å¿ƒç±»å‹ï¼Œåªéœ€è¦åŒ¹é…å±æ€§ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> shape <span class="token keyword">switch</span> 
<span class="token punctuation">{</span>
  <span class="token punctuation">{</span> BossSigned<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">SkipLevelBossSigned</span><span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Boss need to sign&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> SkipLevelBossSigned<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Skip level boss need to sign&quot;</span><span class="token punctuation">,</span>
  _ <span class="token operator">=&gt;</span> <span class="token string">&quot;All good, process&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢çš„ç¤ºä¾‹å…¶å®æœ‰ä¸ªæ½œåœ¨çš„é£é™©ï¼Œå¦‚æœ <code>_</code> å…·æœ‰ null å€¼å®ƒä¼šåŒ¹é…åˆ°é»˜è®¤çš„caseã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ä¹‹å‰æ‚¨å¯èƒ½éœ€è¦ä¿®å¤è¯¥é—®é¢˜ã€‚</p> <h2 id="_3-records-è®°å½•"><a href="#_3-records-è®°å½•" class="header-anchor">#</a> -3- Records - è®°å½•</h2> <p>è¿™ä¸ªç‰¹æ€§è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒï¼Œä½†æˆ‘æ„Ÿåˆ°å¾ˆå…´å¥‹ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥å¿˜æ‰å­—æ®µå£°æ˜</p> <blockquote><p>ä½ æ˜¯è®¤çœŸçš„å—ï¼Ÿé‚£è¦ç”¨ä»€ä¹ˆä»£æ›¿å‘¢ï¼Ÿçœ‹èµ·æ¥ä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ</p></blockquote> <p>è¿™ä¸ªç‰¹æ€§å¯¹æˆ‘æ¥è¯´æœ‰ç‚¹ç±»ä¼¼ Scala å’Œ TypeScriptï¼Œå®ƒå¯ä»¥ä¸ºæ‚¨å®Œæˆç¹é‡çš„å·¥ä½œï¼Œå³åˆ›å»ºå­—æ®µã€‚åœ¨ TypeScript ä¸­çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">class</span> <span class="token class-name">Hero</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> name<span class="token punctuation">:</span> String<span class="token punctuation">,</span> <span class="token keyword">private</span> hp<span class="token punctuation">:</span> number<span class="token punctuation">,</span> <span class="token keyword">public</span> shout<span class="token punctuation">:</span> String<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ä¸ºæ‚¨åˆ›å»ºäº† <code>name</code>ï¼Œ<code>hp</code> å’Œ <code>shout</code>ã€‚æ‰€ä»¥æ— éœ€åƒè¿™æ ·è¾“å…¥ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token comment">// the above would compile to this</span>

<span class="token keyword">class</span> <span class="token class-name">Hero</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">name</span><span class="token punctuation">:</span> String<span class="token punctuation">,</span> <span class="token named-parameter punctuation">hp</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span> <span class="token named-parameter punctuation">shout</span><span class="token punctuation">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hp <span class="token operator">=</span> hp<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>shout <span class="token operator">=</span> shout<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>ä½œä¸º C# å¼€å‘äººå‘˜ï¼Œè¿™çœ‹èµ·æ¥æœ‰ç‚¹å€’é€€ï¼Œç±»å‹æ”¾åœ¨æœ€åï¼Ÿ</p></blockquote> <p>è¿™è®©æˆ‘æƒ³èµ·äº†è¿™ä¸ªè¯´æ³•ï¼Œä½†æ˜¯çš„ï¼Œå°±æ˜¯è¿™æ · ğŸ˜ƒ</p> <p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--_9aQ8vZY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/guwdo0osb696z2arkwc0.jpg" target="_blank" rel="noopener noreferrer"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--_9aQ8vZY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/guwdo0osb696z2arkwc0.jpg" alt="img"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>å¦‚æœåœ¨ C# å®ç°å°†ä¼šæ˜¯ä»€ä¹ˆæ ·ï¼Ÿä»–ä»¬æ­£åœ¨åŠªåŠ›å®ç°å®ƒï¼Œä½†ææ¡ˆåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p></blockquote> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> hp<span class="token punctuation">,</span> <span class="token class-name">String</span> shout<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä»¥ä¸Šä»£ç å°†ä¼šè¢«ç¼–è¯‘æˆè¿™æ ·ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hero</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IEquatable<span class="token punctuation">&lt;</span>Hero<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> hp<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> shout<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> hp<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> shout<span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hp <span class="token operator">=</span> hp<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>shout <span class="token operator">=</span> shout<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name">Hero</span> other<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">//</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> other<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">//</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">//</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Deconstruct</span><span class="token punctuation">(</span><span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> hp<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">string</span></span> shout<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      name <span class="token operator">=</span> name<span class="token punctuation">;</span>
      hp <span class="token operator">=</span> hp<span class="token punctuation">;</span>
      shout <span class="token operator">=</span> shout<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">Hero</span> <span class="token function">With</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> age <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> shout <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shout<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Hero</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> hp<span class="token punctuation">,</span> shout<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¾ˆå¤šé¢å¤–çš„ç›Šå¤„ï¼Œå¦‚ Deconstructã€Equalï¼Œå¹¶ä¸”èƒ½ä½¿ç”¨æ–°çš„è¯­æ³• <code>With</code>ã€‚ <code>With</code> ä¹Ÿæ˜¯ä¸€ä¸ªæ–°çš„ä¸œè¥¿ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºæ–°çš„ä¸å¯å˜å¯¹è±¡ã€‚æˆ‘ä»¬èƒ½å¤Ÿåƒè¿™æ ·è¾“å…¥ï¼š</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> hero <span class="token operator">=</span> <span class="token function">GetHero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// get a Hero object from somewhere</span>
<span class="token class-name"><span class="token keyword">var</span></span> newHero <span class="token operator">=</span> hero<span class="token punctuation">.</span><span class="token function">With</span><span class="token punctuation">(</span>hp <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// alt syntax</span>
<span class="token class-name"><span class="token keyword">var</span></span> otherHero <span class="token operator">=</span> hero <span class="token keyword">with</span> <span class="token punctuation">{</span> hp <span class="token operator">=</span> <span class="token number">23</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre></div><h2 id="å°ç»“"><a href="#å°ç»“" class="header-anchor">#</a> å°ç»“</h2> <p>è¿™å°±æ˜¯æœ¬æ–‡çš„ç»“å°¾äº†ã€‚å¦‚æœä½ åƒæˆ‘ä¸€æ ·é‡è¿” .NET å¼€å‘ï¼Œä¹Ÿè®¸æœ‰äº›æ„Ÿå—æ˜¯ç›¸åŒçš„æˆ–ä¸åŒçš„ï¼Œå“¦ï¼Œå¯¹äº†è¿˜æœ‰ .NET Coreï¼Œå½“ç„¶ï¼Œè¿™æ˜¯ä¸ªå¤§æ–°é—»ã€‚èƒ½å¤Ÿåœ¨ Linux / Macä¸Šè¿è¡Œ .NETï¼Œå¯¹ä»£ç è¿›è¡Œå®¹å™¨åŒ–ç­‰ç­‰ã€‚è°ä¼šæƒ³åˆ°è¿™ä¸€å¤©çœŸçš„æ¥ä¸´ï¼Ÿ</p> <p>å¦ç™½è¯´ï¼Œæˆ‘ä¼šä½¿ç”¨è¿™äº›ç»“æ„å—ï¼Ÿæˆ‘è‚¯å®šä¼šä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼Œå³ä½¿æˆ‘åœ¨å¾ˆå¤šæ—¶å€™éƒ½é‡‡ç”¨ç»§æ‰¿å¹¶é¿å…è¿™ç§é€»è¾‘ã€‚</p> <p>é‚£ä¹ˆè§£æ„å‘¢ï¼Ÿå¯¹å…ƒç»„æ¥è¯´æˆ‘ä¼šä½¿ç”¨ï¼Œæ— éœ€é¢å¤–çš„å·¥ä½œå°±å¯ä»¥ä½¿ç”¨å®ƒã€‚é‚£ä¹ˆå¯¹è±¡å‘¢ï¼Ÿæˆ‘çœ‹åˆ°æˆ‘éœ€è¦åšä»¥ä¸‹ä¸¤ä»¶äº‹ä¹‹ä¸€ï¼š</p> <ol start="2"><li>åœ¨ä¸€ä¸ªç±»ä¸Šåˆ›å»ºä¸€ä¸ªæ–¹æ³•è¿”å›æ‰€éœ€çš„å…ƒç»„</li> <li>åœ¨æœ‰å¿…è¦çš„ç±»ä¸Šæ·»åŠ  <code>Deconstruct()</code> æ–¹æ³•ã€‚æˆ‘ä¼šé—®è‡ªå·±ä»¥ä¸‹é—®é¢˜ï¼šæˆ‘æ˜¯å¦éœ€è¦å°†å­—æ®µä»ç±»ä¼ é€’åˆ°å¤–éƒ¨ç¯å¢ƒï¼Ÿå­—æ®µæ˜¯å¦æä¾›äº†å®ç°ç»†èŠ‚ï¼Ÿå±æ€§å‘¢ï¼Ÿæˆ‘ä»¬è¿˜æœ‰åŒ…å«å¾ˆå¤šå…¬å…±å­—æ®µçš„DTOå¯¹è±¡ï¼Œå› æ­¤â€¦â€¦</li></ol> <p>è®°å½•ï¼Œæˆ‘éœ€è¦å®ƒä»¬ã€‚è¿«ä¸åŠå¾…æƒ³çœ‹åˆ°å®ƒä»¬çš„å®ç°äº† ğŸ˜ƒ</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/shinyzhu/azureselected/edit/master/zh-cn/content/cloud-advocate/2020-05/great-new-features-in-c-for-a-returning-net-dev.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ç¼–è¾‘æœ¬é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">æœ€è¿‘æ›´æ–°äº:</span> <span class="time">6/13/2020, 11:26:48 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/azureselected/assets/js/app.8a0b7483.js" defer></script><script src="/azureselected/assets/js/2.8d021b4d.js" defer></script><script src="/azureselected/assets/js/54.41189e23.js" defer></script><script src="/azureselected/assets/js/3.32c85e2e.js" defer></script><script src="/azureselected/assets/js/5.554b9b17.js" defer></script>
  </body>
</html>
